<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Valentine‚Äôs Day ‚ù§Ô∏è</title>
  <link rel="icon" href="https://fav.farm/‚ù§Ô∏è" />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg: #fff5f7;
      --card: #ffffff;
      --accent: #e11d48;
      --accent-2: #fb7185;
      --text: #1f2937;
      --muted: #6b7280;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, #ffe4e6, transparent),
                  radial-gradient(1200px 600px at 110% 10%, #ffd1dc, transparent),
                  var(--bg);
      height: 100vh;
      overflow: hidden; 
    }

    .calligraphy { font-family: 'Great Vibes', cursive; color: #be123c; font-weight: normal; }

    /* --- ENVELOPE STYLES --- */
    #envelopeWrapper {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      background: var(--bg);
      transition: opacity 1s ease, visibility 1s;
    }

    .envelope {
      position: relative;
      width: 300px;
      height: 200px;
      background: #f9d5da;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      cursor: pointer;
    }

    .envelope:before {
      content: "";
      position: absolute;
      top: 0;
      z-index: 2;
      border-top: 110px solid #f2bbc3;
      border-left: 150px solid transparent;
      border-right: 150px solid transparent;
      transform-origin: top;
      transition: transform 0.6s ease;
    }

    .envelope.open:before { transform: rotateX(180deg); z-index: 0; }

    .envelope:after {
      content: "";
      position: absolute;
      bottom: 0;
      width: 0;
      height: 0;
      border-bottom: 100px solid #f9d5da;
      border-left: 150px solid #f4c2c9;
      border-right: 150px solid #f4c2c9;
      z-index: 2;
    }

    .heart-seal {
      position: absolute;
      top: 90px;
      left: 135px;
      font-size: 30px;
      z-index: 3;
      transition: opacity 0.3s;
    }

    .envelope.open .heart-seal { opacity: 0; }

    /* --- MAIN CONTENT --- */
    #mainContent {
      visibility: hidden; 
      scroll-snap-type: y mandatory;
      height: 100vh;
      overflow-y: scroll;
      filter: blur(5px); 
      transition: filter 1s ease, visibility 0.3s ease;
    }

    .section {
      min-height: 100vh;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      scroll-snap-align: start;
      position: relative;
      padding: 5rem 2rem;
    }

    /* --- SECTION 1: HERO --- */
    .hero-container {
      background: white;
      padding: 3.5rem;
      border-radius: 2rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      max-width: 800px;
      text-align: center;
    }

    .hero-img {
      width: 250px;
      height: 250px;
      object-fit: cover;
      border-radius: 50%;
      border: 5px solid white;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      margin-bottom: 1.5rem;
    }

    h1 { font-size: clamp(2rem, 8vw, 3.5rem); margin: 0.5rem 0; font-weight: 300; }

    .scroll-arrow {
      position: absolute;
      bottom: 40px;
      font-size: 3rem;
      cursor: pointer;
      color: var(--accent);
      animation: bounce 2s infinite;
      z-index: 10;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-15px); }
      60% { transform: translateY(-7px); }
    }

    /* --- SECTION 2: POLAROIDS --- */
    .polaroid-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px 0px; 
      max-width: 1400px;
      padding: 4rem 2rem;
    }

    .polaroid {
      background: #fff;
      padding: 1rem 1rem 4rem;
      border-radius: 0.25rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), filter 0.3s ease, opacity 0.4s ease, z-index 0s;
      width: 260px;
      filter: grayscale(100%);
      opacity: 0.4; 
      cursor: pointer;
      position: relative;
      margin: 0 -20px; 
    }

    .polaroid:hover { 
      filter: grayscale(0%); 
      opacity: 1; 
      transform: scale(1.15) rotate(0deg) !important; 
      z-index: 100; 
      box-shadow: 0 20px 45px rgba(0,0,0,0.2);
    }

    .photo { width: 100%; aspect-ratio: 1/1; background: #eee; overflow: hidden; }
    .photo img { width: 100%; height: 100%; object-fit: cover; display: block; }

    .caption { 
      margin-top: 1.2rem; 
      text-align: center; 
      font-family: 'Great Vibes', cursive; 
      font-size: 1.6rem;
      color: #444; 
    }
    
    .p1 { transform: rotate(-4deg); } .p2 { transform: rotate(3deg); }
    .p3 { transform: rotate(-2deg); } .p4 { transform: rotate(5deg); }
    .p5 { transform: rotate(-5deg); } .p6 { transform: rotate(4deg); }
    .p7 { transform: rotate(-3deg); } .p8 { transform: rotate(2deg); }
    .p9 { transform: rotate(-6deg); } .p10 { transform: rotate(4deg); }
    .p11 { transform: rotate(-2deg); } .p12 { transform: rotate(6deg); }
    .p13 { transform: rotate(-4deg); } .p14 { transform: rotate(3deg); }

    /* --- SECTION 3: REASONS --- */
    .content-card {
      background: rgba(255, 255, 255, 0.35); 
      padding: 3.5rem;
      border-radius: 2rem;
      text-align: center;
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.05);
      max-width: 800px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .reasons-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
    }

    .reason-note {
      background: white;
      padding: 12px 22px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      font-family: 'Dancing Script', cursive;
      font-weight: 700;
      font-size: 1.4rem;
      color: #be123c;
      transition: all 0.4s ease;
      cursor: default;
      border: 1px solid #ffe4e6;
      animation: gentleSway 4s ease-in-out infinite alternate;
    }

    .reason-note:hover {
      transform: scale(1.1) rotate(0deg) !important;
      background: #fff0f3;
      box-shadow: 0 10px 25px rgba(225, 29, 72, 0.15);
      z-index: 10;
    }

    @keyframes gentleSway {
      from { transform: translateY(0) rotate(-2deg); }
      to { transform: translateY(-5px) rotate(2deg); }
    }

    /* --- MODAL --- */
    .modal { position: fixed; inset: 0; display: none; place-items: center; z-index: 1000; transition: opacity 0.5s ease; opacity: 0; }
    .modal-backdrop { position: absolute; inset: 0; background: rgba(255, 245, 247, 0.4); backdrop-filter: blur(15px); }
    .modal-card { position: relative; background: white; padding: 2.5rem; border-radius: 1.5rem; text-align: center; width: 350px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }
    #noBtn { background: #94a3b8; transition: all 0.2s ease; z-index: 1001; }

    button { border: 0; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #fff; padding: 0.8rem 1.5rem; border-radius: 99px; font-weight: 600; cursor: pointer; transition: 0.2s; }

    /* --- VINYL RECORD MUSIC PLAYER --- */
    /* New Spin Animation */
    @keyframes spinRecord {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .music-player {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 2000;
      background: white;
      padding: 10px 15px;
      border-radius: 50px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1px solid #ffe4e6;
      cursor: pointer;
      transition: all 0.3s ease;
      visibility: hidden;
    }

    .music-player.playing {
      box-shadow: 0 0 20px rgba(225, 29, 72, 0.3);
      border-color: var(--accent-2);
    }
    
    /* Styles for the new vinyl record icon container */
    .vinyl-icon-container {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Apply spin animation only when playing */
    .music-player.playing .vinyl-icon-container {
      animation: spinRecord 3s linear infinite;
    }

    .hearts-bg { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
    .heart { position: absolute; color: var(--accent); opacity: 0.3; animation: floatUp 10s linear infinite; }
    @keyframes floatUp {
      from { transform: translateY(110vh) rotate(0deg); opacity: 1; }
      to { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }

    #yt-player { display: none; }
  </style>
</head>
<body>

  <div class="hearts-bg" id="heartsBg"></div>

  <div id="envelopeWrapper">
    <div class="envelope" id="mainEnvelope">
      <div class="heart-seal">‚ù§Ô∏è</div>
      <div style="position: absolute; bottom: -60px; width: 100%; text-align: center;" class="calligraphy">Click to open, Trang...</div>
    </div>
  </div>

  <div id="valentineModal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
      <h2 class="calligraphy" style="font-size: 2.2rem;">Will you be my Valentine?</h2>
      <div style="margin-top: 2rem; display: flex; justify-content: center; gap: 1rem; position: relative; height: 50px;">
        <button id="yesBtn">YES! ‚ù§Ô∏è</button>
        <button id="noBtn">No</button>
      </div>
    </div>
  </div>

  <main id="mainContent">
    <header class="section">
      <div class="hero-container">
        <img src="hero.jpg" alt="Trang and Lumi" class="hero-img">
        <h1>For <span id="partnerName" class="calligraphy">Trang</span> & <span id="dogName" class="calligraphy">Lumi</span> ‚ù§Ô∏è</h1>
        <p>I made this for you.</p>
      </div>
      <div class="scroll-arrow" onclick="document.getElementById('section2').scrollIntoView()">‚åÑ</div>
    </header>

    <section id="section2" class="section">
      <div class="polaroid-container">
        <div class="polaroid p1"><div class="photo"><img src="pic1.jpg"></div><div class="caption">The Beginning ‚ú®</div></div>
        <div class="polaroid p2"><div class="photo"><img src="pic2.jpg"></div><div class="caption">Laughs üéûÔ∏è</div></div>
        <div class="polaroid p3"><div class="photo"><img src="pic3.jpg"></div><div class="caption">Us ‚ù§Ô∏è</div></div>
        <div class="polaroid p4"><div class="photo"><img src="pic4.jpg"></div><div class="caption">Adventures üèîÔ∏è</div></div>
        <div class="polaroid p5"><div class="photo"><img src="pic5.jpg"></div><div class="caption">Forever? ‚ôæÔ∏è</div></div>
        <div class="polaroid p6"><div class="photo"><img src="pic6.jpg"></div><div class="caption">Memories üå∏</div></div>
        <div class="polaroid p7"><div class="photo"><img src="pic7.jpg"></div><div class="caption">Together ü•Ç</div></div>
        <div class="polaroid p8"><div class="photo"><img src="pic8.jpg"></div><div class="caption">Smile! üì∏</div></div>
        <div class="polaroid p9"><div class="photo"><img src="pic9.jpg"></div><div class="caption">Sweetness üçØ</div></div>
        <div class="polaroid p10"><div class="photo"><img src="pic10.jpg"></div><div class="caption">My Everything üíç</div></div>
        <div class="polaroid p11"><div class="photo"><img src="pic11.jpg"></div><div class="caption">Best Friends üêæ</div></div>
        <div class="polaroid p12"><div class="photo"><img src="pic12.jpg"></div><div class="caption">Golden Hour ‚òÄÔ∏è</div></div>
        <div class="polaroid p13"><div class="photo"><img src="pic13.jpg"></div><div class="caption">Coffee Dates ‚òï</div></div>
        <div class="polaroid p14"><div class="photo"><img src="pic14.jpg"></div><div class="caption">Under the Stars ‚ú®</div></div>
      </div>
      <div class="scroll-arrow" style="animation-delay: 1s;" onclick="document.getElementById('section3').scrollIntoView()">‚åÑ</div>
    </section>

    <section id="section3" class="section">
      <div class="content-card">
        <h2 class="calligraphy" style="font-size: 3.5rem;">Why you're the one...</h2>
        <div class="reasons-container">
          <div class="reason-note p1">Your infectious laugh.</div>
          <div class="reason-note p2">How you care for Lumi.</div>
          <div class="reason-note p3">Your brilliant mind.</div>
          <div class="reason-note p4">Your kindness to strangers.</div>
          <div class="reason-note p5">The way you look at me.</div>
          <div class="reason-note p6">Your strength and resilience.</div>
          <div class="reason-note p7">Our late-night talks.</div>
          <div class="reason-note p8">Your silly morning energy.</div>
          <div class="reason-note p9">How you make me feel safe.</div>
          <div class="reason-note p10">The way you chase your dreams.</div>
          <div class="reason-note p11">How you handle my bad days.</div>
          <div class="reason-note p12">Your taste in music and movies.</div>
          <div class="reason-note p13">Your unwavering support.</div>
          <div class="reason-note p14">Simply being you, Trang.</div>
        </div>
        <p class="calligraphy" style="margin-top: 50px; font-size: 2.2rem;">Forever yours ‚ù§Ô∏è</p>
      </div>
    </section>
  </main>

  <div class="music-player" id="musicToggle">
    <span class="vinyl-icon-container">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="11" fill="#374151"/> <circle cx="12" cy="12" r="4" fill="#e11d48"/> <circle cx="12" cy="12" r="1.5" fill="#ffffff"/> </svg>
    </span>
    <span style="font-size: 0.9rem; font-weight: 600; color: #be123c;">Our Song</span>
  </div>

  <iframe id="yt-player" src="https://www.youtube.com/embed/1GFpjG_5ZV4?enablejsapi=1&loop=1&playlist=1GFpjG_5ZV4" allow="autoplay"></iframe>

  <script>
    const envelope = document.getElementById('mainEnvelope');
    const envelopeWrapper = document.getElementById('envelopeWrapper');
    const modal = document.getElementById('valentineModal');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const musicToggle = document.getElementById('musicToggle');
    let isPlaying = false;

    // 1. Envelope Opening
    envelope.addEventListener('click', () => {
      envelope.classList.add('open');
      setTimeout(() => {
        envelopeWrapper.style.opacity = '0';
        setTimeout(() => {
          envelopeWrapper.style.display = 'none';
          modal.style.display = 'grid';
          setTimeout(() => modal.style.opacity = '1', 10);
        }, 1000);
      }, 800);
    });

    // 2. Logic for Buttons
    noBtn.addEventListener('mouseover', () => {
      noBtn.style.position = 'fixed';
      noBtn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
      noBtn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
    });

    yesBtn.addEventListener('click', () => {
      modal.style.opacity = '0';
      setTimeout(() => {
        modal.style.display = 'none';
        document.getElementById('mainContent').style.visibility = 'visible';
        document.getElementById('mainContent').style.filter = 'blur(0px)';
        musicToggle.style.visibility = 'visible';
        document.body.style.overflowY = 'auto';
      }, 500);
      
      controlMusic('play');
      isPlaying = true;
      musicToggle.classList.add('playing');
      alert("Yay! Happy Valentine's Day! ‚ù§Ô∏è");
    });

    function controlMusic(command) {
      const cmd = command === 'play' ? '{"event":"command","func":"playVideo","args":""}' : '{"event":"command","func":"pauseVideo","args":""}';
      document.getElementById('yt-player').contentWindow.postMessage(cmd, '*');
    }

    musicToggle.addEventListener('click', () => {
      if (isPlaying) {
        controlMusic('pause');
        isPlaying = false;
        musicToggle.classList.remove('playing');
      } else {
        controlMusic('play');
        isPlaying = true;
        musicToggle.classList.add('playing');
      }
    });

    // 3. Floating Hearts
    const bg = document.getElementById('heartsBg');
    for (let i = 0; i < 24; i++) {
      const heart = document.createElement('div');
      heart.innerHTML = '‚ù§Ô∏è';
      heart.className = 'heart';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
      heart.style.animationDelay = Math.random() * 10 + 's';
      heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
      bg.appendChild(heart);
    }
  </script>
</body>
</html>
